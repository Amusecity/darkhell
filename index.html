<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Terminal Yazı Hızı</title>
<style>
  html, body {
    margin:0; padding:0; height:100%; width:100%;
    background: black; font-family: monospace;
    overflow: hidden;
    user-select: none;
  }
  #closeBtn {
    position: fixed;
    top: 10px;
    right: 15px;
    font-size: 30px;
    color: white;
    cursor: pointer;
    user-select:none;
    z-index: 1000;
  }
  #terminal {
    position: fixed;
    top: 50px; left: 10px; right: 10px; bottom: 10px;
    padding: 20px;
    box-sizing: border-box;
    background: black;
    font-size: 20px;
    line-height: 1.5em;
    white-space: pre-wrap;
    overflow-y: auto;
    font-weight: 600;
    user-select:none;
    display:none;
  }
  .green {
    color: #0f0;
  }
  .red {
    color: #f00;
  }
</style>
</head>
<body>

<div id="closeBtn">×</div>
<div id="terminal"></div>

<script>
  const closeBtn = document.getElementById('closeBtn');
  const terminal = document.getElementById('terminal');

  // 100 hacker tarzı satır
  let messages = [];
  for(let i=1; i<=100; i++){
    messages.push(`HACKER SATIRI ${i} - sistem güvenlik taraması devam ediyor...`);
  }

  // Ses için bip oluşturma
  const audioCtx = new (window.AudioContext || window.webkitAudioContext)();

  function playBeep(duration = 100, frequency = 440, volume = 0.2) {
    const oscillator = audioCtx.createOscillator();
    const gainNode = audioCtx.createGain();

    oscillator.connect(gainNode);
    gainNode.connect(audioCtx.destination);

    gainNode.gain.value = volume;
    oscillator.frequency.value = frequency;
    oscillator.type = "square";

    oscillator.start();
    setTimeout(() => oscillator.stop(), duration);
  }

  let started = false;
  let currentLine = 0;
  let lastBeep = 0;
  let startTime = null;

  function writeNextLine(timestamp){
    if (!startTime) startTime = timestamp;

    if(currentLine >= messages.length){
      // 100 satır tamamlandı, temizle ve devam
      currentLine = 0;
      terminal.innerHTML = "";
      startTime = timestamp;
    }

    // Renk ve hız ayarları
    let interval, colorClass;
    if(currentLine < 20){
      interval = 300;
      colorClass = "green";
    } else {
      interval = 50;
      colorClass = "red";
    }

    // Bip sesi kontrolü:
    // Yeşil (ilk 20 satır) sessiz,
    // Kırmızı satır başlayınca bip hızlanarak devam ediyor.
    if(colorClass === "red" && audioCtx.state === 'running'){
      // Bip hızı intervale göre artacak
      if(!lastBeep || (timestamp - lastBeep) > interval){
        playBeep(50, 800, 0.15);
        lastBeep = timestamp;
      }
    }

    if(!writeNextLine.last || (timestamp - writeNextLine.last) >= interval){
      const line = document.createElement("div");
      line.textContent = messages[currentLine];
      line.className = colorClass;
      terminal.appendChild(line);
      terminal.scrollTop = terminal.scrollHeight;
      currentLine++;
      writeNextLine.last = timestamp;
    }

    if(started) requestAnimationFrame(writeNextLine);
  }

  function startTerminal(){
    if(started) return;
    started = true;
    terminal.style.display = "block";
    currentLine = 0;
    writeNextLine.last = null;
    startTime = null;
    // Bip sesi - çarpıya basınca kırmızı yanıp sönme anında 1 bip
    if(audioCtx.state === 'suspended') audioCtx.resume();
    playBeep(100, 800, 0.3);
    requestAnimationFrame(writeNextLine);
  }

  closeBtn.addEventListener('click', ()=>{
    startTerminal();
  });
</script>

</body>
</html>
