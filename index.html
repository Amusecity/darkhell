<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Terminal Yazı Hızı</title>
<style>
  html, body {
    margin:0; padding:0; height:100%; width:100%;
    background: black; font-family: monospace;
    overflow: hidden;
    user-select: none;
  }
  #terminal {
    position: fixed;
    top: 10px; left: 10px; right: 10px; bottom: 10px;
    padding: 20px;
    box-sizing: border-box;
    background: black;
    font-size: 20px;
    line-height: 1.5em;
    white-space: pre-wrap;
    overflow-y: auto;
    font-weight: 600;
    user-select:none;
  }
  .green {
    color: #0f0;
  }
  .red {
    color: #f00;
  }
</style>
</head>
<body>

<div id="terminal"></div>

<script>
  const terminal = document.getElementById('terminal');

  // 100 satırlık yazı dizisi
  let messages = [];
  for(let i=1; i<=100; i++){
    messages.push(`Satır numarası ${i} - sistem kontrolü yapılıyor...`);
  }

  let startTime = null;
  let currentLine = 0;
  let totalLines = messages.length;

  // Ses için bip sesi oluşturma
  const audioCtx = new (window.AudioContext || window.webkitAudioContext)();

  function playBeep(duration = 100, frequency = 440, volume = 0.2) {
    const oscillator = audioCtx.createOscillator();
    const gainNode = audioCtx.createGain();

    oscillator.connect(gainNode);
    gainNode.connect(audioCtx.destination);

    gainNode.gain.value = volume;
    oscillator.frequency.value = frequency;
    oscillator.type = "square";

    oscillator.start();
    setTimeout(() => oscillator.stop(), duration);
  }

  let lastBeep = 0;

  function writeNextLine(timestamp){
    if (!startTime) startTime = timestamp;
    let elapsed = timestamp - startTime;

    // İlk 20 satır için yavaş (300ms), sonraki 80 satır için hızlı (50ms)
    // Satır hızını süreye göre değil satır numarasına göre ayarlıyoruz
    let interval, colorClass;
    if(currentLine < 20){
      interval = 300;
      colorClass = "green";
    } else {
      interval = 50;
      colorClass = "red";
    }

    if(currentLine < totalLines){
      if(!writeNextLine.last || (timestamp - writeNextLine.last) >= interval){
        // Yeni satır için span ile renk sınıfı ver
        const line = document.createElement("div");
        line.textContent = messages[currentLine];
        line.className = colorClass;
        terminal.appendChild(line);

        // Scroll aşağıya kaydır
        terminal.scrollTop = terminal.scrollHeight;

        // Bip sesi hızlandırma
        if(audioCtx.state === 'suspended') {
          audioCtx.resume();
        }
        if(timestamp - lastBeep > interval){
          playBeep(50, 600, 0.1);
          lastBeep = timestamp;
        }

        currentLine++;
        writeNextLine.last = timestamp;
      }
      requestAnimationFrame(writeNextLine);
    } else {
      // 100 satır bitince sıfırla, devam etsin sonsuz döngü
      currentLine = 0;
      terminal.innerHTML = "";
      writeNextLine.last = null;
      startTime = timestamp;
      requestAnimationFrame(writeNextLine);
    }
  }

  requestAnimationFrame(writeNextLine);
</script>

</body>
</html>
